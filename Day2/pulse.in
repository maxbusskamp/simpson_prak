spinsys {
	channels 19F 
	nuclei 19F
	shift 1 0p -10p 0.3 0 0 0
}

par {
	crystal_file    	rep168
  
	method           	direct 
	proton_frequency 	400e6
	
	start_operator   	I1z
	detect_operator  	I1p
 
	sw             		20000
	variable tsw		1e6/sw
	np             		4096

	spin_rate  			1000
	gamma_angles  		16
	verbose				0100
}

proc pulseq {} {
	global par
  
	pulse $par(pulse_length) $par(rf) y
	acq_block {
		delay $par(tsw)
	}
  
}

proc main {} {
	global par
  
	# Define the pulse length in us
	set par(pulse_length) 	2.0	
	set par(rf) 			50.0e3
	  
	set f [fsimpson]
	faddlb $f 30 0
	fft $f
	fsave $f $par(pulse_length).spe
	fsave $f $par(pulse_length).xy -xreim

	funload $f
}
